<style>

    p.times {
        padding-left: 5%;
    }

    table, th, td {
        border: 1px solid navy;
    }
    #list{
        border: 1px solid black;
        background-color: white;

    }


    #sortable {
        border: 1px solid #eee;
        width: 142px;
        min-height: 20px;
        list-style-type: none;
        margin: 0;
        padding: 5px 0 0 0;
        float: left;
        margin-right: 10px;
    }

    .drag { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; }
    .subGroup{
        width: 20px; height: 10px; padding: 0.5em; float: left; margin: 10px 10px 10px 0;
    }


   #droppable1,#droppable2,#droppable3,#droppable4,#droppable5,#droppable6 {
       border: 1px solid #eee;
       width: 142px;
       min-height: 20px;
       list-style-type: none;
       margin: 0;
       padding: 5px 0 0 0;
       float: left;
       margin-right: 10px;}

    #sortable1,#sortable2,#sortable3,#sortable4,#sortable5,#sortable6 {
        border: 1px solid #eee;
        width: 142px;
        min-height: 20px;
        list-style-type: none;
        margin: 0;
        padding: 5px 0 0 0;
        float: left;
        margin-right: 10px;}
    #sortable li, #droppable1 li,#droppable2 li,#droppable3 li,#droppable4 li,#droppable5 li,#droppable6 li{
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
    }

     #sortable1 li,#sortable2 li,#sortable3 li,#sortable4 li,#sortable6 li,#sortable5 li{
        margin: 0 5px 5px 5px;
        padding: 5px;
        font-size: 1.2em;
        width: 120px;
         background-color: red;
         color: white;
    }


</style>

<div class="panel panel-default" data-ng-show="showGroupSelectionPanel">
    <div class="panel-heading">
        <h3 class="panel-title" align="center">Exam Seat Plan</h3>
    </div>
    <div class="panel-body">
        <div class="row">

            <div class="col-md-3">
                Select Semester <br>
                <select class="form-control required" name="semester" data-ng-model="semesterId" >
                    <option data-ng-repeat="semesters in semesterList| filter:{status:'1'}" value="{{semesters.id}}">{{semesters.name}}</option>
                </select><br>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-3">
                Select Exam Type <br>
                <select class="form-control required" name="examType" data-ng-model="examType" >
                    <option value="1">Regular</option>
                    <option value="2">Carry</option>
                    <option value="3">Clearance</option>
                </select>
            </div>

            <div class="col-md-1"></div>

            <div class="col-md-3">
                Select Seat Plannign System
                <select class="form-control required" name="system" data-ng-model="system" >
                    <option value="1">Automatic</option>
                    <option value="2">Manual</option>
                </select>
            </div>


        </div>
        <hr>
        <hr>
        <br>
        <br>
        <div data-ng-if="semesterId && examType && system " data-ng-init="getGroups()">
            <h2 align="center">Groups</h2>

            <div class="row">
                <div data-ng-repeat="groupNo in groupList">
                    <div class="col-md-4" data-ng-if="groupNo.groupNumber==1">
                        <div class="panel panel-default">
                            <div class="panel-heading"> Group {{groupNo.groupNumber}}</div>
                            <div data-ng-repeat="group in groupNo.groupMembers">
                                <p class="times">{{group.programName}}, {{group.year}} year {{group.semester}} semester ({{group.studentNumber}})</p>
                            </div>
                            <hr>
                            <hr>
                            <div>
                                <h2>Total Student : {{groupNo.totalStudentNumber}}</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" data-ng-if="groupNo.groupNumber==2">
                        <div class="panel panel-default">
                            <div class="panel-heading"> Group {{groupNo.groupNumber}}</div>
                            <div data-ng-repeat="group in groupNo.groupMembers">
                                <p class="times">{{group.programName}}, {{group.year}} year {{group.semester}} semester ({{group.studentNumber}})</p>
                            </div>
                            <hr>
                            <hr>
                            <div>
                                <h2>Total Student : {{groupNo.totalStudentNumber}}</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" data-ng-if="groupNo.groupNumber==3">
                        <div class="panel panel-default">
                            <div class="panel-heading"> Group {{groupNo.groupNumber}}</div>
                            <div data-ng-repeat="group in groupNo.groupMembers">
                                <p class="times">{{group.programName}}, {{group.year}} year {{group.semester}} semester ({{group.studentNumber}})</p>
                            </div>
                            <hr>
                            <hr>
                            <div>
                                <h2>Total Student : {{groupNo.totalStudentNumber}}</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
        <div data-ng-if="seatPlanGroupList.length==0">
            <h1>Please Create an Exam Rroutine first for {{semesterId}} !!!!!!</h1>
        </div>

        <br>
        <br>
        <hr>
        <hr>
        <hr>

        <div data-ng-if="seatPlanGroupList.length>0">
            <div class="row">
                <div class="col-md-2">
                    <hr>
                    <hr>
                </div>
                <div class="col-md-4">
                    <hr>
                    <hr>
                    Select Group For Exam Seat Plan Viewing or Generation<br>

                    <select class="form-control required" name="examType" data-ng-model="groupNoForSeatPlanViewing" >
                        <option value="1">Group 1</option>
                        <option value="2">Group 2</option>
                        <option value="3">Group 3</option>
                    </select>

                </div>
                <div class="col-md-3">
                    <hr>
                    <hr>
                    <br>
                    <button data-ng-click="createOrViewSubgroups(groupNoForSeatPlanViewing)">Create or View <br> Subgroups</button>
                    <button data-ng-click="createOrViewSeatPlan(groupNoForSeatPlanViewing)">Create or View <br> Seat Plan</button>
                </div>
                <div class="col-md-3">
                    <hr>
                    <hr>
                    <br>

                </div>


            </div>
        </div>

    </div>
</div>



<div class="panel panel-grey" data-ng-show="subGroupSelected">
    <div class="panel-heading">
        <h3 class="panel-title pull-left">
            Sub Groups for Group {{groupNoForSubGroup}}
        </h3>

        <button class="btn btn-default pull-right" data-ng-click="closeSubGroupOrRoomInfoWindow()"><i class="fa fa-times" aria-hidden="true"></i></button>
        <div class="clearfix"></div>

    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-2">
                {{selectedGroupNo}}
                <div data-ng-repeat="groupNo in groupList | filter:{groupNumber: selectedGroupNo}" data-ng-show="subGroupFound==false" >
                    <ul data-ng-repeat="group in groupNo.groupMembers"   id="sortable"  class="connectedSortable">
                        <li class="ui-state-default" id="{{group.id}}">{{group.programName}}:{{group.year}}/{{group.semester}} ({{group.studentNumber}})</li>
                    </ul>
                </div>
            </div>

            <div class="col-md-7">
                <div class="row" align="center" data-ng-if="showSubGroupSelectionNumber && subGroupFound==false" >
                    <p><b>How many subgroups ? </b></p>
                    <input type="number" data-ng-model="subGroupNumber" />
                    <br>
                    <br>
                    <button data-ng-click="generateSubGroups(subGroupNumber)">Generate Sub-groups</button>
                </div>
                <hr>
                <hr>


                <!--
                    data-ng-if doesnot work in showing the subgroups.
                -->
                <div  data-ng-if="subGroupFound==true">
                    <div class="row">

                        <ul id="sortable1" class="connectedSortable" data-ng-if="subGroupList.length>=1">
                            <p><b>Sub Group 1</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[0]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                        <ul id="sortable2" class="connectedSortable" data-ng-if="subGroupList.length>=2">
                            <p><b>Sub Group 2</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[1]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                        <ul id="sortable3" class="connectedSortable" data-ng-if="subGroupList.length>=3">
                            <p><b>Sub Group 3</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[2]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                                   <!-- <ul id="sortable1" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==1">

                                                <li id="{{member.id}}" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                                                    <div data-ng-if="member.id==''">
                                                        {{member.programName}}
                                                    </div>
                                                    <div data-ng-if="member.id!=''">
                                                        {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                                                    </div>

                                                </li>



                                    </ul>-->
                       <!-- <ul id="sortable2" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==2">



                            <li id="{{member.id}}" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                                <div data-ng-if="member.id==''">
                                    {{member.programName}}
                                </div>
                                <div data-ng-if="member.id!=''">
                                    {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                                </div>

                            </li>



                        </ul>
                        <ul id="sortable3" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==3">



                            <li id="{{member.id}}" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                                <div data-ng-if="member.id==''">
                                    {{member.programName}}
                                </div>
                                <div data-ng-if="member.id!=''">
                                    {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                                </div>

                            </li>



                        </ul>


-->
                    </div>
                    <hr>
                    <hr>
                    <div class="row">
                        <ul id="sortable4" class="connectedSortable" data-ng-if="subGroupList.length>=4">
                            <p><b>Sub Group 4</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[3]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                        <ul id="sortable5" class="connectedSortable" data-ng-if="subGroupList.length>=5">
                            <p><b>Sub Group 5</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[4]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                        <ul id="sortable6" class="connectedSortable" data-ng-if="subGroupList.length>=6">
                            <p><b>Sub Group 6</b></p>
                            <li id="{{member.id}}" data-ng-repeat="member in subGroupWithDeptMap[5]" data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </li>
                        </ul>
                        <!--<ul id="sortable4" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==4">



                            <li id="{{member.id}}" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                                <div data-ng-if="member.id==''">
                                    {{member.programName}}
                                </div>
                                <div data-ng-if="member.id!=''">
                                    {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                                </div>

                            </li>



                        </ul>
                        <ul id="sortable5" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==5">



                        <li id="member.id" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                            <div data-ng-if="member.id==''">
                                {{member.programName}}
                            </div>
                            <div data-ng-if="member.id!=''">
                                {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                            </div>

                        </li>



                    </ul>
                        <ul id="sortable6" class="connectedSortable" data-ng-repeat="subGroup in subGroupList" data-ng-if="subGroup.subGroupNumber==6">



                            <li id="member.id" data-ng-repeat="member in subGroup.subGroupMembers track by $index" >
                                <div data-ng-if="member.id==''">
                                    {{member.programName}}
                                </div>
                                <div data-ng-if="member.id!=''">
                                    {{member.programName}}:{{member.year}}/{{member.semester}} ({{member.studentNumber}})
                                </div>

                            </li>



                        </ul>
-->



                    </div>




                </div>

                <div class="row" data-ng-if="colForSubGroup!=9999 " data-ng-show="subGroupFound==false">

                    <ul id="droppable1" class="connectedSortable" data-ng-show="colForSubgroup>=1"  >
                        <p><b>Sub Group 1</b> </p>
                    </ul>
                    <ul class="connectedSortable" id="droppable2" data-ng-show="colForSubgroup>=2" >
                        <p><b>Sub Group 2</b></p>
                    </ul>
                    <ui class="connectedSortable" id="droppable3" data-ng-show="colForSubgroup>=3"  >
                        <p><b>Sub Group 3</b></p>
                    </ui>
                </div>
                <hr>
                <hr>
                <div class="row" data-ng-if="colForSubgroup!=9999 " data-ng-show=" subGroupFound==false">
                    <ui class=" connectedSortable" id="droppable4" data-ng-show="colForSubgroup>=4" >
                        <p><b>Sub Group 4</b></p>
                    </ui>
                    <div class="connectedSortable" id="droppable5" data-ng-show="colForSubgroup>=5" >
                        <p><b>Sub Group 5</b></p>
                    </div>
                    <div class="connectedSortable" id="droppable6" data-ng-show="colForSubgroup>=6"  >
                        <p><b>Sub Group 6</b></p>
                    </div>

                </div>

            </div>
            <div class="row " id="statistics">
                <div >
                    <h2>Statistics</h2>

                    Total Students:
                    <div data-ng-repeat="groupNo in groupList | filter:{groupNumber: selectedGroupNo}">
                       <h3>{{groupNo.totalStudentNumber}}</h3>
                    </div>
                    <hr>
                    <hr>
                    <div   data-ng-repeat="subGroup in subGroupList">
                        <p data-ng-if="subGroup.subGroupNumber<= colForSubgroup " >Sub Group {{subGroup.subGroupNumber}} total Student: {{subGroup.subGroupTotalStudentNumber}}</p>
                    </div>
                    <hr>
                    <hr>

                </div>


            </div>

        </div>
        <hr>
        <hr>

        <div class="row" align="center">
            <button type="button" class="btn btn-info" data-ng-click="saveSubGroup(selectedGroupNo)" data-ng-if="saveSubGroupInfo">Save </button>
            <button type="button" class="btn btn-info" data-ng-click="editSavedSubGroup(selectedGroupNo)" data-ng-if="editSubGroup">Edit </button>
            <button type="button" class="btn btn-info" data-ng-click="cancelEditedSubGroup()" data-ng-if="cancelSubGroup">Cancel</button>
            <button type="button" class="btn btn-info" data-ng-click="createNewSubGroup(groupNoForSeatPlanViewing)" data-ng-if="deleteAndCreateNewSubGroup">Re-Create</button>


        </div>
        <hr>
        <hr>

    </div>

</div>

