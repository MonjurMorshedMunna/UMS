<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
  <id>ums-distribution</id>
  <baseDirectory>UMS</baseDirectory>
  <formats>
    <format>zip</format>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <dependencySets>
    <dependencySet>
      <includes>
        <include>org.ums:ums-api</include>
        <include>org.ums:ums-core</include>
        <include>org.springframework:spring-core</include>
        <include>org.springframework:spring-beans</include>
        <include>org.springframework:spring-web</include>
        <include>org.springframework:spring-context</include>
        <include>org.springframework:spring-expression</include>
        <include>org.springframework:spring-jdbc</include>
        <include>org.springframework:spring-tx</include>
        <include>org.springframework:spring-aop</include>
        <include>org.springframework:spring-aspect</include>
        <include>org.glassfish.jersey.ext:jersey-spring3</include>
        <include>org.glassfish.jersey.core:jersey-common</include>
        <include>org.glassfish.jersey.containers:jersey-container-servlet</include>
        <include>org.glassfish.jersey.bundles.repackaged:jersey-guava</include>
        <include>org.glassfish.hk2:spring-bridge</include>
        <include>org.apache.shiro:shiro-core</include>
        <include>org.apache.shiro:shiro-web</include>
        <include>org.apache.shiro:shiro-spring</include>
        <include>org.apache.shiro:shiro-aspectj</include>
        <include>commons-beanutils:commons-beanutils</include>
        <include>cglib:cglib</include>
        <include>org.glassfish.jersey.media:jersey-media-json-processing</include>
        <include>ch.qos.logback:logback-classic</include>
        <include>ch.qos.logback:logback-core</include>
        <include>org.slf4j:slf4j-api</include>
        <include>org.slf4j:slf4j-jdk14</include>
        <include>commons-logging:commons-logging</include>
        <include>aopalliance:aopalliance</include>
        <!--<include>mysql:mysql-connector-java</include>-->
        <include>com.oracle:ojdbc6</include>
        <include>com.jolbox:bonecp</include>
        <include>com.google.guava:guava</include>
      </includes>
      <outputDirectory>lib</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>true</useTransitiveFiltering>
    </dependencySet>
    <dependencySet>
      <includes>
        <include>org.ums:ums-webservice-common</include>
      </includes>
      <outputDirectory>webapps</outputDirectory>
      <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
    </dependencySet>

    <dependencySet>
      <includes>
        <include>org.ums:ums-web</include>
      </includes>
      <outputDirectory>webapps</outputDirectory>
      <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
    </dependencySet>

  </dependencySets>

</assembly>